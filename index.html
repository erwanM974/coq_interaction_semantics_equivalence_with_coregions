<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>interaction_with_coregs_reworked_merge</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<div class="code">
</div>

<div class="doc">
<a id="lab1"></a><h1 class="section">Considering concurrent regions in the equivalence of semantics for interaction languages.</h1>

Erwan Mahe - 2023

<div class="paragraph"> </div>

This is a reformulation and extension of the previous Coq proof from
<a href="https://github.com/erwanM974/coq_hibou_label_semantics_equivalence/">Coq proof for the equivalence of three semantics defined on an interaction language</a>.

<div class="paragraph"> </div>

<a id="lab2"></a><h2 class="section">Context</h2>


<div class="paragraph"> </div>

Our aim is to prove the equivalence of two trace semantics of a modeling language for distributed system communication:
<ul class="doclist">
<li> a denotational one, which uses composition with operators on sets of traces

</li>
<li> an operational one, which uses successive concatenation of actions which can be executed in the model

</li>
</ul>

<div class="paragraph"> </div>

A similar proof can be found in 
<a href="https://github.com/erwanM974/coq_hibou_label_semantics_equivalence/">Coq proof for the equivalence of three semantics defined on an interaction language</a> 
on a subset of the language.

<div class="paragraph"> </div>

Here, we consider a co-region "concurrent region" operator which incidentaly covers both interleaving and weak sequencing.
As a result, we remove the "seq" and "par" operators and the associated loops "loopW" and "loopP" and replace them with "coreg" and "loopC".
We reformulate the pruning relation and the semantics so as to rely on fewer predicates (e.g. we got rid of "terminates", "avoids").

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Coq.Bool.Bool</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Coq.Lists.List</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="var">Coq.Vectors.Fin</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Psatz</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Coq.Program.Equality</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Coq.Init.Logic</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Coq.Init.Nat</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Coq.Arith.PeanoNat</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="var">Coq.Arith.Peano_dec</span>.<br/>

<br/>
</div>

<div class="doc">

<div class="paragraph"> </div>

<a id="lab3"></a><h2 class="section">Signature &amp; Actions</h2>


<div class="paragraph"> </div>

The interaction language that I define depends on a signature that is composed of:
<ul class="doclist">
<li> a set of "lifelines" L, which elements represent the individual sub-systems that can be found in the disctributed system (or some groups of sub-systems via abstraction/refinement)

</li>
<li> a set of "messages" M, which elements represent the individual distinguishable messages that can be exchanged (via asynchronous communication) within (i.e. internally) or without (i.e externally) the distributed system 

</li>
</ul>
Given that I consider finitely many such lifelines and messages, I use finite vectors from "Coq.Vectors.Fin."
to model those sets

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Parameter</span> <span class="id" title="var">LCard</span> : <span class="id" title="var">nat</span>.<br/>
<span class="id" title="keyword">Parameter</span> <span class="id" title="var">MCard</span> : <span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">L</span> := <span class="id" title="var">Fin.t</span> (<span class="id" title="var">S</span> <span class="id" title="var">LCard</span>).<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">M</span> := <span class="id" title="var">Fin.t</span> (<span class="id" title="var">S</span> <span class="id" title="var">MCard</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h2 class="section">Preliminaries</h2>


<div class="paragraph"> </div>

This section is dedicated to enoncing some basic types and properties on which the remainder of the proof will be based.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">eq_img</span>: <span class="id" title="keyword">forall</span> {<span class="id" title="var">X</span> <span class="id" title="var">Y</span>:<span class="id" title="keyword">Type</span>} (<span class="id" title="var">f</span>: <span class="id" title="var">X</span>-&gt;<span class="id" title="var">Y</span>) (<span class="id" title="var">x</span> <span class="id" title="var">y</span> :<span class="id" title="var">X</span>), <span class="id" title="var">x</span> = <span class="id" title="var">y</span> -&gt; <span class="id" title="var">f</span> <span class="id" title="var">x</span> = <span class="id" title="var">f</span> <span class="id" title="var">y</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">contraposition</span> : <span class="id" title="keyword">forall</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span>:<span class="id" title="keyword">Prop</span>, (<span class="id" title="var">p</span>-&gt;<span class="id" title="var">q</span>)-&gt;(~<span class="id" title="var">q</span>-&gt;~<span class="id" title="var">p</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">intro</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h3 class="section">Lifeline manipulation</h3>

We model lifelines as elements of "L".
Below are some basic properties to manipulate lifelines.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">L_not_neq</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span> <span class="id" title="var">l'</span>:<span class="id" title="var">L</span>),  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(~ (<span class="id" title="var">l</span> &lt;&gt; <span class="id" title="var">l'</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">l</span> = <span class="id" title="var">l'</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Fin.eq_dec</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
- <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">L_neq_or_not_neq</span> (<span class="id" title="var">x</span> <span class="id" title="var">y</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">x</span> &lt;&gt; <span class="id" title="var">y</span>) \/ (<span class="id" title="var">not</span>(<span class="id" title="var">x</span>&lt;&gt;<span class="id" title="var">y</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Fin.eq_dec</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">intro</span>. <span class="id" title="var">contradiction</span>.<br/>
- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">L_eqb_neq</span> (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">Fin.eqb</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>) = <span class="id" title="var">false</span> &lt;-&gt; <span class="id" title="var">l1</span>&lt;&gt;<span class="id" title="var">l2</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">L_neq_or_not_neq</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">L_not_neq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">Fin.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">diff_true_false</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
-<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">lifeline_neq_symmetry</span> (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">l1</span>&lt;&gt;<span class="id" title="var">l2</span>) &lt;-&gt; (<span class="id" title="var">l2</span>&lt;&gt;<span class="id" title="var">l1</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h3 class="section">Selection of lifelines</h3>

We represent a selection of lifelines in "L" with a function "L-&gt;bool".

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">coreg_choice</span> (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">p</span> <span class="id" title="var">l</span> = <span class="id" title="var">true</span>) \/ (<span class="id" title="var">p</span> <span class="id" title="var">l</span> = <span class="id" title="var">false</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">bool_dec</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>) <span class="id" title="var">true</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">not_true_iff_false</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">coreg_eq</span> (<span class="id" title="var">p1</span> <span class="id" title="var">p2</span>:<span class="id" title="var">L</span>-&gt; <span class="id" title="var">bool</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">p1</span> = <span class="id" title="var">p2</span>)<br/>
&nbsp;&nbsp;&lt;-&gt; (<span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>), <span class="id" title="var">p1</span> <span class="id" title="var">l</span> = <span class="id" title="var">p2</span> <span class="id" title="var">l</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">coreg_discriminate</span> (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">l1</span> <span class="id" title="var">l2</span> : <span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;~ (<span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l1</span>)) /\ (<span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l2</span>)) -&gt; (<span class="id" title="var">l1</span>&lt;&gt;<span class="id" title="var">l2</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">is_true</span> <span class="id" title="tactic">in</span> *.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">eq_img</span> <span class="id" title="var">p</span> <span class="id" title="var">l1</span> <span class="id" title="var">l2</span>).<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">contraposition</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
- <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h2 class="section">Actions and traces</h2>


<div class="paragraph"> </div>

We denote by "l!m" the emission of message "m" (element of "M") from lifeline "l" (element of "L").
We denote by "l?m" the reception of message "m" (element of "M") by lifeline "l" (element of "L").
To distinguish between emissions and receptions I encode the kind of action
({!,?}) with an inductive type "ActKind".

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">ActKind</span> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;|<span class="id" title="var">ak_snd</span>:<span class="id" title="var">ActKind</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">ak_rcv</span>:<span class="id" title="var">ActKind</span>.<br/>

<br/>
</div>

<div class="doc">
I can now define actions with the "Action" type via a cartesian product of types L, ActKind and M.

<div class="paragraph"> </div>

A utility function "lifeline" returns, for any action, the lifeline on which it occurs.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Action</span> :<span class="id" title="keyword">Set</span>:= <span class="id" title="var">L</span>*<span class="id" title="var">ActKind</span>*<span class="id" title="var">M</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">lifeline</span>: <span class="id" title="var">Action</span> -&gt; <span class="id" title="var">L</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">fun</span> '(<span class="id" title="var">_</span> <span class="id" title="keyword">as</span> <span class="id" title="var">l</span>,<span class="id" title="var">_</span>,<span class="id" title="var">_</span>) =&gt; <span class="id" title="var">l</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">exists_action_on_lifeline</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">a</span>:<span class="id" title="var">Action</span>, <span class="id" title="var">l</span> = (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) ).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
The "Trace" type is defined as that of lists of actions ("Action" type).

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">Trace</span> : <span class="id" title="keyword">Type</span> := <span class="id" title="var">list</span> <span class="id" title="var">Action</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h3 class="section">Conditional Sequencing</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">no_condconf</span> : (<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) -&gt; <span class="id" title="var">Trace</span> -&gt; <span class="id" title="var">L</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
| <span class="id" title="var">no_condconf_nil</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>), (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">nil</span> <span class="id" title="var">l</span>)<br/>
| <span class="id" title="var">no_condconf_cons</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ ( <span class="id" title="var">not</span> ((<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) = <span class="id" title="var">l</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>) <span class="id" title="var">l</span>).<br/>

<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">is_cond_seq</span> : (<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) -&gt; <span class="id" title="var">Trace</span> -&gt; <span class="id" title="var">Trace</span> -&gt; <span class="id" title="var">Trace</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
| <span class="id" title="var">cond_seq_nil_left</span>   : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span> :  <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">nil</span> <span class="id" title="var">t</span> <span class="id" title="var">t</span>)<br/>
| <span class="id" title="var">cond_seq_nil_right</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span> :  <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t</span> <span class="id" title="var">nil</span> <span class="id" title="var">t</span>)<br/>
| <span class="id" title="var">cond_seq_cons_left</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span> :  <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">t</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) -&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t1</span>) <span class="id" title="var">t2</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>))<br/>
| <span class="id" title="var">cond_seq_cons_right</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span> :  <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">t</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">no_condconf</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t2</span>) (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>)).<br/>

<br/>
</div>

<div class="doc">
Some properties of conditional sequencing

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_cond_seq_nil_prop1</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">nil</span>)<br/>
&nbsp;&nbsp;-&gt; ( (<span class="id" title="var">t1</span> = <span class="id" title="var">nil</span>) /\ (<span class="id" title="var">t2</span> = <span class="id" title="var">nil</span>) ).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_cond_seq_nil_prop2</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">nil</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">t1</span> = <span class="id" title="var">t2</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">H0</span>:=<span class="id" title="var">H</span>).<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">t2</span>=<span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_cond_seq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_cond_seq_nil_prop3</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">nil</span> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">t1</span> = <span class="id" title="var">t2</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">t1</span>=<span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_cond_seq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_cond_seq_existence</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>, <span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t1</span>.<br/>
- <span class="id" title="tactic">exists</span> <span class="id" title="var">t2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_nil_left</span>.<br/>
- <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHt1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">t2</span>:=<span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHt1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">a</span>::<span class="id" title="var">x</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_cons_left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_cond_seq_assoc</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span> <span class="id" title="var">tmA</span> <span class="id" title="var">tmB</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>):<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">tmA</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span> <span class="id" title="var">tmB</span>)<br/>
&nbsp;&nbsp;-&gt; ( (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">tmA</span> <span class="id" title="var">t3</span> <span class="id" title="var">t</span>) &lt;-&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">tmB</span> <span class="id" title="var">t</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_cond_seq_cons_decomposition</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>):<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> (<span class="id" title="var">a</span> :: <span class="id" title="var">t</span>))<br/>
&nbsp;&nbsp;-&gt; (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> (<span class="id" title="var">t1'</span>:<span class="id" title="var">Trace</span>), (<span class="id" title="var">t1</span> = <span class="id" title="var">a</span>::<span class="id" title="var">t1'</span>) /\ (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1'</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id" title="tactic">exists</span> (<span class="id" title="var">t2'</span>:<span class="id" title="var">Trace</span>), (<span class="id" title="var">t2</span> = <span class="id" title="var">a</span>::<span class="id" title="var">t2'</span>) /\ (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2'</span> <span class="id" title="var">t</span>) /\ (<span class="id" title="var">no_condconf</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_nil_left</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_nil</span>.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_nil_right</span>.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t3</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h3 class="section">Verifying that conditional sequencing covers interleaving</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">is_interleaving</span> : <span class="id" title="var">Trace</span> -&gt; <span class="id" title="var">Trace</span> -&gt; <span class="id" title="var">Trace</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
| <span class="id" title="var">interleaving_nil_left</span>   : <span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_interleaving</span> <span class="id" title="var">nil</span> <span class="id" title="var">t</span> <span class="id" title="var">t</span>)<br/>
| <span class="id" title="var">interleaving_nil_right</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_interleaving</span> <span class="id" title="var">t</span> <span class="id" title="var">nil</span> <span class="id" title="var">t</span>)<br/>
| <span class="id" title="var">interleaving_cons_left</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_interleaving</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) -&gt; (<span class="id" title="var">is_interleaving</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t1</span>) <span class="id" title="var">t2</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>))<br/>
| <span class="id" title="var">interleaving_cons_right</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_interleaving</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) -&gt; (<span class="id" title="var">is_interleaving</span> <span class="id" title="var">t1</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t2</span>) (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_interleaving_nil_prop1</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_interleaving</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">nil</span>)<br/>
&nbsp;&nbsp;-&gt; ( (<span class="id" title="var">t1</span> = <span class="id" title="var">nil</span>) /\ (<span class="id" title="var">t2</span> = <span class="id" title="var">nil</span>) ).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_interleaving_nil_prop2</span> (<span class="id" title="var">t</span> <span class="id" title="var">t2</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_interleaving</span> <span class="id" title="var">nil</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">t2</span> = <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">t2</span>=<span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_interleaving</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_interleaving_nil_prop3</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_interleaving</span> <span class="id" title="var">t1</span> <span class="id" title="var">nil</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">t1</span> = <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">t1</span>=<span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_interleaving</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">all_lifelines</span> : (<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) := <span class="id" title="keyword">fun</span> <span class="id" title="var">l</span>:<span class="id" title="var">L</span> =&gt; <span class="id" title="var">true</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_condconf_all_lifelines_charac</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">L</span>), <span class="id" title="var">no_condconf</span> <span class="id" title="var">all_lifelines</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_nil</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">all_lifelines</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">is_true</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cond_seq_covers_interleaving_1</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_interleaving</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) -&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">all_lifelines</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t1</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">is_interleaving_nil_prop2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_nil_left</span>.<br/>
- <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_nil_left</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_nil_right</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_cons_left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_cons_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_all_lifelines_charac</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cond_seq_covers_interleaving_2</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">all_lifelines</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) -&gt; (<span class="id" title="var">is_interleaving</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">interleaving_nil_left</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">interleaving_nil_right</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">interleaving_cons_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_cond_seq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">all_lifelines</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">interleaving_cons_right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_cond_seq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">all_lifelines</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Here is the proof that a certain parameterization of conditional sequencing is equivalent to the interleaving operator.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">cond_seq_covers_interleaving</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_interleaving</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) &lt;-&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">all_lifelines</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_covers_interleaving_1</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_covers_interleaving_2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab10"></a><h3 class="section">Verifying that conditional sequencing covers weak sequencing</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">no_conflict</span> : <span class="id" title="var">Trace</span> -&gt; <span class="id" title="var">L</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
| <span class="id" title="var">no_conflict_nil</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>), (<span class="id" title="var">no_conflict</span> <span class="id" title="var">nil</span> <span class="id" title="var">l</span>)<br/>
| <span class="id" title="var">no_conflict_cons</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">not</span> ((<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) = <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; (<span class="id" title="var">no_conflict</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>) <span class="id" title="var">l</span>).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">is_weak_seq</span> : <span class="id" title="var">Trace</span> -&gt; <span class="id" title="var">Trace</span> -&gt; <span class="id" title="var">Trace</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
| <span class="id" title="var">weak_seq_nil_left</span>   : <span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_weak_seq</span> <span class="id" title="var">nil</span> <span class="id" title="var">t</span> <span class="id" title="var">t</span>)<br/>
| <span class="id" title="var">weak_seq_nil_right</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_weak_seq</span> <span class="id" title="var">t</span> <span class="id" title="var">nil</span> <span class="id" title="var">t</span>)<br/>
| <span class="id" title="var">weak_seq_cons_left</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_weak_seq</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) -&gt; (<span class="id" title="var">is_weak_seq</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t1</span>) <span class="id" title="var">t2</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>))<br/>
| <span class="id" title="var">weak_seq_cons_right</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_weak_seq</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t1</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">is_weak_seq</span> <span class="id" title="var">t1</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t2</span>) (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_weak_seq_nil_prop1</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_weak_seq</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">nil</span>)<br/>
&nbsp;&nbsp;-&gt; ( (<span class="id" title="var">t1</span> = <span class="id" title="var">nil</span>) /\ (<span class="id" title="var">t2</span> = <span class="id" title="var">nil</span>) ).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_weak_seq_nil_prop2</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_weak_seq</span> <span class="id" title="var">nil</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">t1</span> = <span class="id" title="var">t2</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">assert</span> (<span class="id" title="var">H0</span>:=<span class="id" title="var">H</span>).<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">t2</span>=<span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_weak_seq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">is_weak_seq_nil_prop3</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_weak_seq</span> <span class="id" title="var">t1</span> <span class="id" title="var">nil</span> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">t1</span> = <span class="id" title="var">t2</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">t1</span>=<span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_weak_seq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">no_lifelines</span> : (<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) := <span class="id" title="keyword">fun</span> <span class="id" title="var">l</span>:<span class="id" title="var">L</span> =&gt; <span class="id" title="var">false</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_condconf_no_lifelines_charac</span> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span> : <span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span> : <span class="id" title="var">L</span>), (<span class="id" title="var">no_condconf</span> <span class="id" title="var">no_lifelines</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>) &lt;-&gt; (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_nil</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">unfold</span> <span class="id" title="var">no_lifelines</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">is_true</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
- <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_nil</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cond_seq_covers_weak_seq_1</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_weak_seq</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) -&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">no_lifelines</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t1</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">is_weak_seq_nil_prop2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_nil_left</span>.<br/>
- <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_nil_left</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_nil_right</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_cons_left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_cons_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_no_lifelines_charac</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cond_seq_covers_weak_seq_2</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">no_lifelines</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) -&gt; (<span class="id" title="var">is_weak_seq</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">weak_seq_nil_left</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">weak_seq_nil_right</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">weak_seq_cons_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_cond_seq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">no_lifelines</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">weak_seq_cons_right</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_cond_seq</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">no_lifelines</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_no_lifelines_charac</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">no_lifelines</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Here is the proof that a certain parameterization of conditional sequencing is equivalent to the weak sequencing operator.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">cond_seq_covers_weak_seq</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>: <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_weak_seq</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) &lt;-&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">no_lifelines</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_covers_weak_seq_1</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_covers_weak_seq_2</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab11"></a><h3 class="section">Repetition operators</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">merge_strict</span> : <br/>
&nbsp;&nbsp;<span class="id" title="var">list</span> <span class="id" title="var">Trace</span> -&gt; <span class="id" title="var">Trace</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
| <span class="id" title="var">merge_strict_nil</span> : (<span class="id" title="var">merge_strict</span> <span class="id" title="var">nil</span> <span class="id" title="var">nil</span>)<br/>
| <span class="id" title="var">merge_strict_cons</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">remain</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t_first</span> <span class="id" title="var">t_rep</span>:<span class="id" title="var">Trace</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">merge_strict</span> <span class="id" title="var">remain</span> <span class="id" title="var">t_rep</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_strict</span> (<span class="id" title="var">t_first</span>::<span class="id" title="var">remain</span>) (<span class="id" title="var">t_first</span>++<span class="id" title="var">t_rep</span>)).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">merge_coreg</span> :<br/>
&nbsp;&nbsp;(<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) -&gt; <span class="id" title="var">list</span> <span class="id" title="var">Trace</span> -&gt; <span class="id" title="var">Trace</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
| <span class="id" title="var">merge_coreg_nil</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>), (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">nil</span> <span class="id" title="var">nil</span>)<br/>
| <span class="id" title="var">merge_coreg_cons</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">remain</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t_first</span> <span class="id" title="var">t_rep</span> <span class="id" title="var">t_merge</span>:<span class="id" title="var">Trace</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">remain</span> <span class="id" title="var">t_rep</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t_first</span> <span class="id" title="var">t_rep</span> <span class="id" title="var">t_merge</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> (<span class="id" title="var">t_first</span>::<span class="id" title="var">remain</span>) <span class="id" title="var">t_merge</span>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab12"></a><h3 class="section">Relations between conditional conflicts and operators</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_condconf_charac1</span> (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;( ((<span class="id" title="var">p</span> <span class="id" title="var">l</span>) = <span class="id" title="var">true</span>) \/ (<span class="id" title="var">no_condconf</span> <span class="id" title="var">no_lifelines</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>) )<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>.<br/>
- <span class="id" title="tactic">apply</span>  <span class="id" title="var">no_condconf_nil</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">L_neq_or_not_neq</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">l</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">L_not_neq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">auto</span>.<br/>
- <span class="id" title="tactic">apply</span>  <span class="id" title="var">no_condconf_nil</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_cons</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_condconf_charac2</span> (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;( ((<span class="id" title="var">p</span> <span class="id" title="var">l</span>) = <span class="id" title="var">false</span>) /\ (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>) )<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_nil</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_cons</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">lifeline_neq_symmetry</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">coreg_discriminate</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">is_true</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">diff_false_true</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span> ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_cons</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span> ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">one_lifeline</span> (<span class="id" title="var">l</span>: <span class="id" title="var">L</span>) : (<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) := <span class="id" title="var">Fin.eqb</span> <span class="id" title="var">l</span> .<br/>

<br/>
<span class="id" title="keyword">Definition</span> <span class="id" title="var">remove_lf_matches</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) (<span class="id" title="var">p</span>: <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) : (<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) :=<br/>
<span class="id" title="keyword">fun</span> <span class="id" title="var">l'</span>:<span class="id" title="var">L</span> =&gt;<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">p</span> <span class="id" title="var">l'</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">true</span> =&gt; <span class="id" title="var">false</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">false</span> =&gt; <span class="id" title="var">Fin.eqb</span> <span class="id" title="var">l</span> <span class="id" title="var">l'</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_condconf_remove_match_charac1</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) :<br/>
&nbsp;&nbsp;((<span class="id" title="var">r</span> <span class="id" title="var">l</span>) = <span class="id" title="var">false</span>) -&gt; (<span class="id" title="var">remove_lf_matches</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span>) = <span class="id" title="var">one_lifeline</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">remove_lf_matches</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">one_lifeline</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">coreg_eq</span>. <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">coreg_choice</span> <span class="id" title="var">r</span> <span class="id" title="var">l0</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">l</span>&lt;&gt;<span class="id" title="var">l0</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">coreg_discriminate</span> <span class="id" title="var">r</span>). <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">is_true</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">not_true_iff_false</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <span class="id" title="var">is_true</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">L_eqb_neq</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_condconf_remove_match_charac2</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) :<br/>
&nbsp;&nbsp;((<span class="id" title="var">r</span> <span class="id" title="var">l</span>) = <span class="id" title="var">true</span>) -&gt; (<span class="id" title="var">remove_lf_matches</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span>) = <span class="id" title="var">no_lifelines</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">unfold</span> <span class="id" title="var">remove_lf_matches</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">no_lifelines</span>.<br/>
<span class="id" title="tactic">apply</span> <span class="id" title="var">coreg_eq</span>. <span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">coreg_choice</span> <span class="id" title="var">r</span> <span class="id" title="var">l0</span>).<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">L_eqb_neq</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">lifeline_neq_symmetry</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">coreg_discriminate</span> <span class="id" title="var">r</span>). <span class="id" title="tactic">unfold</span> <span class="id" title="var">is_true</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">not_true_iff_false</span> . <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_condconf_concat</span> (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>)(<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;( (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t1</span> <span class="id" title="var">l</span>) /\ (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span>) )<br/>
&nbsp;&nbsp;&lt;-&gt; (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> (<span class="id" title="var">t1</span>++<span class="id" title="var">t2</span>) <span class="id" title="var">l</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_nil</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_conflict_concat</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;( (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t1</span> <span class="id" title="var">l</span>) /\ (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span>) )<br/>
&nbsp;&nbsp;&lt;-&gt; (<span class="id" title="var">no_conflict</span> (<span class="id" title="var">t1</span>++<span class="id" title="var">t2</span>) <span class="id" title="var">l</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">no_condconf_no_lifelines_charac</span>).<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">no_condconf_concat</span> <span class="id" title="var">no_lifelines</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span>).<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_condconf_condseq</span> (<span class="id" title="var">p</span> <span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span> :<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t1</span> <span class="id" title="var">l</span>) /\ (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span>.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_cond_seq</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_cond_seq</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_nil</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_nil</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_cond_seq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHis_cond_seq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_cons</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_conflict_condseq</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t1</span> <span class="id" title="var">l</span>) /\ (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">no_condconf_no_lifelines_charac</span>).<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">no_condconf_condseq</span> <span class="id" title="var">no_lifelines</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span> ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_condconf_merge_strict</span> (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t</span> :<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_strict</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; (<span class="id" title="keyword">forall</span> <span class="id" title="var">t0</span>:<span class="id" title="var">Trace</span>, (<span class="id" title="var">In</span> <span class="id" title="var">t0</span> <span class="id" title="var">subs</span>) -&gt; (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t0</span> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">subs</span>.<br/>
- <span class="id" title="var">contradiction</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_concat</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHsubs</span> <span class="id" title="var">t_rep</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_nil</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_concat</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHsubs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_conflict_merge_strict</span> (<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t</span> :<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_strict</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; (<span class="id" title="keyword">forall</span> <span class="id" title="var">t0</span>:<span class="id" title="var">Trace</span>, (<span class="id" title="var">In</span> <span class="id" title="var">t0</span> <span class="id" title="var">subs</span>) -&gt; (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t0</span> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">no_condconf_no_lifelines_charac</span>).<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">no_condconf_merge_strict</span> <span class="id" title="var">no_lifelines</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_condconf_merge_coreg</span> (<span class="id" title="var">p</span> <span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t</span> :<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; (<span class="id" title="keyword">forall</span> <span class="id" title="var">t0</span>:<span class="id" title="var">Trace</span>, (<span class="id" title="var">In</span> <span class="id" title="var">t0</span> <span class="id" title="var">subs</span>) -&gt; (<span class="id" title="var">no_condconf</span> <span class="id" title="var">p</span> <span class="id" title="var">t0</span> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">subs</span>.<br/>
- <span class="id" title="var">contradiction</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">no_condconf_condseq</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span> <span class="id" title="var">t_first</span> <span class="id" title="var">t_rep</span> <span class="id" title="var">t_merge</span> <span class="id" title="var">l</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHsubs</span> <span class="id" title="var">t_rep</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_nil</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">no_condconf_condseq</span> <span class="id" title="var">p</span> <span class="id" title="var">r</span> <span class="id" title="var">t_first</span> <span class="id" title="var">t_rep</span> <span class="id" title="var">t_merge</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHsubs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_conflict_merge_coreg</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t</span> :<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-&gt; (<span class="id" title="keyword">forall</span> <span class="id" title="var">t0</span>:<span class="id" title="var">Trace</span>, (<span class="id" title="var">In</span> <span class="id" title="var">t0</span> <span class="id" title="var">subs</span>) -&gt; (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t0</span> <span class="id" title="var">l</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">no_condconf_no_lifelines_charac</span>).<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">no_condconf_merge_coreg</span> <span class="id" title="var">no_lifelines</span> <span class="id" title="var">r</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab13"></a><h3 class="section">Conflicts shortcuts</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">conflict_at_head</span> (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) :<br/>
~ <span class="id" title="var">no_conflict</span> (<span class="id" title="var">a</span> :: <span class="id" title="var">t</span>) (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">conflict_concat_left</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
~ (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t1</span> <span class="id" title="var">l</span>) -&gt; ~ <span class="id" title="var">no_conflict</span> (<span class="id" title="var">t1</span> ++ <span class="id" title="var">t2</span>) <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">conflict_concat_right</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
~ (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span>) -&gt; ~ <span class="id" title="var">no_conflict</span> (<span class="id" title="var">t1</span> ++ <span class="id" title="var">t2</span>) <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">conflict_cond_seq_left</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">p</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) /\ ~ (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t1</span> <span class="id" title="var">l</span>) -&gt; ~ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">conflict_cond_seq_right</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) :<br/>
(<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">p</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>) /\ ~ (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span>) -&gt; ~ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab14"></a><h3 class="section">Further characterization of iteration with strict</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_strict_nil_prop2</span> (<span class="id" title="var">t_merge</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_strict</span> <span class="id" title="var">nil</span> <span class="id" title="var">t_merge</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">t_merge</span>=<span class="id" title="var">nil</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t_merge</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_strict_existence</span> (<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>, (<span class="id" title="var">merge_strict</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">subs</span>.<br/>
- <span class="id" title="tactic">exists</span> <span class="id" title="var">nil</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">merge_strict_nil</span>.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHsubs</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tmerge</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">a</span> ++ <span class="id" title="var">tmerge</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">merge_strict_cons</span> ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_strict_unicity</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;( <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">merge_strict</span> <span class="id" title="var">subs</span> <span class="id" title="var">t1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\(<span class="id" title="var">merge_strict</span> <span class="id" title="var">subs</span> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;)-&gt;(<span class="id" title="var">t1</span>=<span class="id" title="var">t2</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">subs</span>.<br/>
- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">merge_strict_nil_prop2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">merge_strict_nil_prop2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t_rep</span>=<span class="id" title="var">t_rep0</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHsubs</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_strict_operational_characterization</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">t0</span> <span class="id" title="var">t</span> <span class="id" title="var">t_merge_remain</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">remain</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) :<br/>
(<span class="id" title="var">merge_strict</span> ((<span class="id" title="var">a</span> :: <span class="id" title="var">t0</span>) :: <span class="id" title="var">remain</span>) (<span class="id" title="var">a</span> :: <span class="id" title="var">t</span>))<br/>
-&gt; (<span class="id" title="var">merge_strict</span> <span class="id" title="var">remain</span> <span class="id" title="var">t_merge_remain</span>)<br/>
-&gt; (<span class="id" title="var">t</span> = <span class="id" title="var">t0</span> ++ <span class="id" title="var">t_merge_remain</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">remain</span> <span class="id" title="var">generalizing</span> <span class="id" title="var">t</span> <span class="id" title="var">t_merge_remain</span> <span class="id" title="var">t0</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">merge_strict_nil_prop2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">merge_strict_nil_prop2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">t_rep</span>=<span class="id" title="var">t_merge_remain</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_strict_unicity</span> (<span class="id" title="var">a</span>::<span class="id" title="var">remain</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}  <br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_strict_skip_empty</span> (<span class="id" title="var">subs</span> : <span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_strict</span> (<span class="id" title="var">nil</span> :: <span class="id" title="var">subs</span>) <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_strict</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_strict_cons_existence</span> (<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>):<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_strict</span> <span class="id" title="var">subs</span> (<span class="id" title="var">a</span> :: <span class="id" title="var">t</span>))<br/>
&nbsp;&nbsp;-&gt; ( <span class="id" title="tactic">exists</span> (<span class="id" title="var">t0</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">prev</span> <span class="id" title="var">succ</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">subs</span> = <span class="id" title="var">prev</span> ++ ( (<span class="id" title="var">a</span>::<span class="id" title="var">t0</span>) :: <span class="id" title="var">succ</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id" title="keyword">forall</span> (<span class="id" title="var">tprev</span>:<span class="id" title="var">Trace</span>), <span class="id" title="var">In</span> <span class="id" title="var">tprev</span> <span class="id" title="var">prev</span> -&gt; <span class="id" title="var">tprev</span> = <span class="id" title="var">nil</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id" title="var">merge_strict</span> ( (<span class="id" title="var">a</span>::<span class="id" title="var">t0</span>)::<span class="id" title="var">succ</span> ) (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab15"></a><h3 class="section">Further characterization of iteration with coreg</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_coreg_nil_prop2</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">t_merge</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">nil</span> <span class="id" title="var">t_merge</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">t_merge</span>=<span class="id" title="var">nil</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t_merge</span>.<br/>
- <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_coreg_existence</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>, (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">subs</span>.<br/>
- <span class="id" title="tactic">exists</span> <span class="id" title="var">nil</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">merge_coreg_nil</span>.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHsubs</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tmerge</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">is_cond_seq_existence</span> <span class="id" title="var">r</span> <span class="id" title="var">a</span> <span class="id" title="var">tmerge</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t</span>,<span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_coreg_cons</span> <span class="id" title="var">r</span> <span class="id" title="var">subs</span> <span class="id" title="var">a</span> <span class="id" title="var">tmerge</span> <span class="id" title="var">t</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_coreg_add_left</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>):<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> (<span class="id" title="var">t1</span> :: <span class="id" title="var">subs</span>) <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> ((<span class="id" title="var">a</span>::<span class="id" title="var">t1</span>) :: <span class="id" title="var">subs</span>) (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_coreg_reorder_prop1</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">sub1</span> <span class="id" title="var">sub3</span> : <span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t2</span> <span class="id" title="var">t</span> : <span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>):<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> (<span class="id" title="var">sub1</span> ++ (<span class="id" title="var">t2</span>::<span class="id" title="var">sub3</span>)) <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="keyword">forall</span> <span class="id" title="var">t1</span>:<span class="id" title="var">Trace</span>, (<span class="id" title="var">In</span> <span class="id" title="var">t1</span> <span class="id" title="var">sub1</span>) -&gt; (<span class="id" title="var">no_condconf</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)))<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> (<span class="id" title="var">sub1</span> ++ ((<span class="id" title="var">a</span>::<span class="id" title="var">t2</span>)::<span class="id" title="var">sub3</span>)) (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">sub1</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">merge_coreg_add_left</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_coreg_cons</span> <span class="id" title="var">r</span> (<span class="id" title="var">sub1</span> ++ (<span class="id" title="var">a0</span>::<span class="id" title="var">t2</span>)::<span class="id" title="var">sub3</span>) <span class="id" title="var">t_first</span> (<span class="id" title="var">a0</span>::<span class="id" title="var">t_rep</span>)).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHsub1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_cons_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_coreg_bi_assoc</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">sub1</span> <span class="id" title="var">sub2</span> : <span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span> : <span class="id" title="var">Trace</span>):<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">sub1</span> <span class="id" title="var">t1</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">sub2</span> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> (<span class="id" title="var">sub1</span>++<span class="id" title="var">sub2</span>) <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H</span> <span class="id" title="var">generalizing</span> <span class="id" title="var">sub2</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>.<br/>
- <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">is_cond_seq_nil_prop2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">is_cond_seq_existence</span> <span class="id" title="var">r</span> <span class="id" title="var">t_rep</span> <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t3</span>,<span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_coreg_cons</span> <span class="id" title="var">r</span> (<span class="id" title="var">remain</span>++<span class="id" title="var">sub2</span>) <span class="id" title="var">t_first</span> <span class="id" title="var">t3</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHmerge_coreg</span> <span class="id" title="var">sub2</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">is_cond_seq_assoc</span> <span class="id" title="var">r</span> <span class="id" title="var">t_first</span> <span class="id" title="var">t_rep</span> <span class="id" title="var">t2</span> <span class="id" title="var">t_merge</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_coreg_sandwich</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">sub1</span> <span class="id" title="var">sub3</span> : <span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span> <span class="id" title="var">tm</span> <span class="id" title="var">t</span> : <span class="id" title="var">Trace</span>):<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">sub1</span> <span class="id" title="var">t1</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">sub3</span> <span class="id" title="var">t3</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span> <span class="id" title="var">tm</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">tm</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> (<span class="id" title="var">sub1</span> ++ <span class="id" title="var">t2</span> :: <span class="id" title="var">sub3</span>) <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_coreg_bi_assoc</span> <span class="id" title="var">r</span> <span class="id" title="var">sub1</span> (<span class="id" title="var">t2</span>::<span class="id" title="var">sub3</span>) <span class="id" title="var">t1</span> <span class="id" title="var">tm</span>).<br/>
- <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_coreg_cons</span> <span class="id" title="var">r</span> <span class="id" title="var">sub3</span> <span class="id" title="var">t2</span> <span class="id" title="var">t3</span> <span class="id" title="var">tm</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_coreg_cons_existence</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>):<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">subs</span> (<span class="id" title="var">a</span> :: <span class="id" title="var">t</span>))<br/>
&nbsp;&nbsp;-&gt; ( <span class="id" title="tactic">exists</span> (<span class="id" title="var">t0</span>:<span class="id" title="var">Trace</span>) (<span class="id" title="var">prev</span> <span class="id" title="var">succ</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">subs</span> = <span class="id" title="var">prev</span> ++ ( (<span class="id" title="var">a</span>::<span class="id" title="var">t0</span>) :: <span class="id" title="var">succ</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id" title="keyword">forall</span> (<span class="id" title="var">tprev</span>:<span class="id" title="var">Trace</span>), <span class="id" title="var">In</span> <span class="id" title="var">tprev</span> <span class="id" title="var">prev</span> -&gt; <span class="id" title="var">no_condconf</span> <span class="id" title="var">r</span> <span class="id" title="var">tprev</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> ( <span class="id" title="var">prev</span> ++ (<span class="id" title="var">t0</span>::<span class="id" title="var">succ</span>) ) <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">merge_coreg_recompose</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">prev</span> <span class="id" title="var">succ</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">tprev</span> <span class="id" title="var">tsucc</span> <span class="id" title="var">tright</span> : <span class="id" title="var">Trace</span>):<br/>
&nbsp;&nbsp;(<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">prev</span> <span class="id" title="var">tprev</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t0</span> <span class="id" title="var">tsucc</span> <span class="id" title="var">tright</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">succ</span> <span class="id" title="var">tsucc</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> (<span class="id" title="var">prev</span> ++ (<span class="id" title="var">t0</span>::<span class="id" title="var">succ</span>)) <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">tprev</span> <span class="id" title="var">tright</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab16"></a><h2 class="section">Syntax of the interaction language</h2>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">Interaction</span> : <span class="id" title="keyword">Set</span> := <br/>
&nbsp;&nbsp;|<span class="id" title="var">interaction_empty</span>:<span class="id" title="var">Interaction</span> <br/>
&nbsp;&nbsp;|<span class="id" title="var">interaction_act</span>:<span class="id" title="var">Action</span>-&gt;<span class="id" title="var">Interaction</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">interaction_strict</span>:<span class="id" title="var">Interaction</span>-&gt;<span class="id" title="var">Interaction</span>-&gt;<span class="id" title="var">Interaction</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">interaction_alt</span>:<span class="id" title="var">Interaction</span>-&gt;<span class="id" title="var">Interaction</span>-&gt;<span class="id" title="var">Interaction</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">interaction_loopS</span>:<span class="id" title="var">Interaction</span>-&gt;<span class="id" title="var">Interaction</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">interaction_coreg</span>:(<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>)-&gt;<span class="id" title="var">Interaction</span>-&gt;<span class="id" title="var">Interaction</span>-&gt;<span class="id" title="var">Interaction</span><br/>
&nbsp;&nbsp;|<span class="id" title="var">interaction_loopC</span>:(<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>)-&gt;<span class="id" title="var">Interaction</span>-&gt;<span class="id" title="var">Interaction</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a id="lab17"></a><h2 class="section">Denotational Semantics</h2>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <span class="id" title="var">sem_de</span> (<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) : (<span class="id" title="var">Trace</span> -&gt; <span class="id" title="keyword">Prop</span>) :=<br/>
<span class="id" title="keyword">match</span> <span class="id" title="var">i</span> <span class="id" title="keyword">with</span><br/>
|<span class="id" title="var">interaction_empty</span>          =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> = <span class="id" title="var">nil</span>)<br/>
|(<span class="id" title="var">interaction_act</span> <span class="id" title="var">a</span>)        =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">t</span> = <span class="id" title="var">a</span> :: <span class="id" title="var">nil</span>)<br/>
|(<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(  <span class="id" title="tactic">exists</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">t1</span>) /\ (<span class="id" title="var">sem_de</span> <span class="id" title="var">i2</span> <span class="id" title="var">t2</span>) /\ (<span class="id" title="var">t</span> = <span class="id" title="var">t1</span> ++ <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
|(<span class="id" title="var">interaction_alt</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>)    =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( (<span class="id" title="var">sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">t</span>) \/ (<span class="id" title="var">sem_de</span> <span class="id" title="var">i2</span> <span class="id" title="var">t</span>) )<br/>
|(<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i1</span>)   =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<span class="id" title="var">t0</span>:<span class="id" title="var">Trace</span>), (<span class="id" title="var">In</span> <span class="id" title="var">t0</span> <span class="id" title="var">subs</span>) -&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">t0</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id" title="var">merge_strict</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span>) <br/>
|(<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>)    =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">t1</span> <span class="id" title="var">t2</span>:<span class="id" title="var">Trace</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">t1</span>) /\ (<span class="id" title="var">sem_de</span> <span class="id" title="var">i2</span> <span class="id" title="var">t2</span>) /\ (<span class="id" title="var">is_cond_seq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span>)<br/>
|(<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">r</span> <span class="id" title="var">i1</span>)   =&gt; <span class="id" title="keyword">fun</span> <span class="id" title="var">t</span>:<span class="id" title="var">Trace</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">subs</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">forall</span> (<span class="id" title="var">t0</span>:<span class="id" title="var">Trace</span>), (<span class="id" title="var">In</span> <span class="id" title="var">t0</span> <span class="id" title="var">subs</span>) -&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">t0</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span>) <br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">loopS_accepts_nil</span> (<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">sem_de</span> (<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i</span>) <span class="id" title="var">nil</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">nil</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">merge_strict_nil</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">loopC_accepts_nil</span> (<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) (<span class="id" title="var">r</span> : <span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="var">sem_de</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">r</span> <span class="id" title="var">i</span>) <span class="id" title="var">nil</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">nil</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">merge_coreg_nil</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab18"></a><h2 class="section">Pruning</h2>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">cannot_prune</span> : <span class="id" title="var">Interaction</span> -&gt; (<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
| <span class="id" title="var">cannot_prune_act</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">cannot_prune</span> (<span class="id" title="var">interaction_act</span> <span class="id" title="var">a</span>) <span class="id" title="var">p</span>)<br/>
| <span class="id" title="var">cannot_prune_alt</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( (<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span>) /\ (<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i2</span> <span class="id" title="var">p</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">cannot_prune</span> (<span class="id" title="var">interaction_alt</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">p</span>)<br/>
| <span class="id" title="var">cannot_prune_strict</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( (<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span>) \/ (<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i2</span> <span class="id" title="var">p</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">cannot_prune</span> (<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">p</span>)<br/>
| <span class="id" title="var">cannot_prune_coreg</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( (<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span>) \/ (<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i2</span> <span class="id" title="var">p</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">cannot_prune</span> (<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">p</span>)<br/>
.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">prunes_into</span> : <span class="id" title="var">Interaction</span> -&gt; (<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) -&gt; <span class="id" title="var">Interaction</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
| <span class="id" title="var">prune_empty</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">interaction_empty</span> <span class="id" title="var">p</span> <span class="id" title="var">interaction_empty</span>)<br/>
| <span class="id" title="var">prune_act</span>    : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">not</span> (<span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)))) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_act</span> <span class="id" title="var">a</span>) <span class="id" title="var">p</span> (<span class="id" title="var">interaction_act</span> <span class="id" title="var">a</span>))<br/>
| <span class="id" title="var">prune_alt_both</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span> <span class="id" title="var">i1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i2</span> <span class="id" title="var">p</span> <span class="id" title="var">i2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_alt</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">p</span> (<span class="id" title="var">interaction_alt</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>))<br/>
| <span class="id" title="var">prune_alt_left</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">i1'</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i2</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span> <span class="id" title="var">i1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;(<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_alt</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">p</span> <span class="id" title="var">i1'</span>)<br/>
| <span class="id" title="var">prune_alt_right</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">i2'</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i2</span> <span class="id" title="var">p</span> <span class="id" title="var">i2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;(<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_alt</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">p</span> <span class="id" title="var">i2'</span>)<br/>
| <span class="id" title="var">prune_strict</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span> <span class="id" title="var">i1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i2</span> <span class="id" title="var">p</span> <span class="id" title="var">i2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">p</span> (<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>))<br/>
| <span class="id" title="var">prune_coreg</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span> <span class="id" title="var">i1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i2</span> <span class="id" title="var">p</span> <span class="id" title="var">i2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">p</span> (<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>))<br/>
| <span class="id" title="var">prune_loopS_select</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i1</span> <span class="id" title="var">i1'</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span> <span class="id" title="var">i1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i1</span>) <span class="id" title="var">p</span> (<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i1'</span>))<br/>
| <span class="id" title="var">prune_loopS_elim</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i1</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i1</span>) <span class="id" title="var">p</span> <span class="id" title="var">interaction_empty</span>)<br/>
| <span class="id" title="var">prune_loopC_select</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i1'</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span> <span class="id" title="var">i1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">r</span> <span class="id" title="var">i1</span>) <span class="id" title="var">p</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">r</span> <span class="id" title="var">i1'</span>))<br/>
| <span class="id" title="var">prune_loopC_elim</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">i1</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">r</span> <span class="id" title="var">i1</span>) <span class="id" title="var">p</span> <span class="id" title="var">interaction_empty</span>)<br/>
.<br/>

<br/>
</div>

<div class="doc">
<a id="lab19"></a><h3 class="section">Some initials lemmas on the prune and cannot prune relations</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">cannot_prune_contradicts_prune</span> (<span class="id" title="var">i</span> <span class="id" title="var">i'</span> : <span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>) /\ (<span class="id" title="var">prunes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">i'</span>) -&gt; <span class="id" title="var">False</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> ; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="var">contradiction</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">can_prune_or_cannot_prune</span> (<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> : <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>) \/ (<span class="id" title="tactic">exists</span> (<span class="id" title="var">i'</span>:<span class="id" title="var">Interaction</span>), <span class="id" title="var">prunes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">i'</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">interaction_empty</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">prune_empty</span>.<br/>
- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">coreg_choice</span> <span class="id" title="var">p</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">cannot_prune_act</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">is_true</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_act</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_act</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">is_true</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">not_true_iff_false</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>). <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHi1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">cannot_prune_strict</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHi2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">cannot_prune_strict</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_strict</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>). <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHi1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHi2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">cannot_prune_alt</span>. <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i2'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">prune_alt_right</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHi2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">exists</span> <span class="id" title="var">i1'</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">prune_alt_left</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_alt</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_alt_both</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHi</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">interaction_empty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_loopS_elim</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i'</span>, <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_loopS_select</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>). <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHi1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">cannot_prune_coreg</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">IHi2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">cannot_prune_coreg</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">b</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_coreg</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">IHi</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">interaction_empty</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_loopC_elim</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i'</span>, <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">b</span> <span class="id" title="var">i'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_loopC_select</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">can_always_prune_loopS</span> (<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i'</span> : <span class="id" title="var">Interaction</span>, <span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i</span>) <span class="id" title="var">p</span> <span class="id" title="var">i'</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">can_prune_or_cannot_prune</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hp1</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp1</span>.<br/>
- <span class="id" title="tactic">exists</span> <span class="id" title="var">interaction_empty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_loopS_elim</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i1'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_loopS_select</span> ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">can_always_prune_loopC</span> (<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> <span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) :<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i'</span> : <span class="id" title="var">Interaction</span>, <span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">r</span> <span class="id" title="var">i</span>) <span class="id" title="var">p</span> <span class="id" title="var">i'</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">can_prune_or_cannot_prune</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hp1</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp1</span>.<br/>
- <span class="id" title="tactic">exists</span> <span class="id" title="var">interaction_empty</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_loopC_elim</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">r</span> <span class="id" title="var">i1'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_loopC_select</span> ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Below we characterize the cannot prune relation operator w.r.t. the denotational style semantics

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">cannot_prune_characterisation_with_sem_de</span> (<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span>: <span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">cannot_prune</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>) <br/>
&nbsp;&nbsp;-&gt; (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="tactic">exists</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>), (<span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>)) /\ ~ (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">conflict_at_head</span>.<br/>
- <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H5</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> : <span class="id" title="var">L</span>, <span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>) /\ ~ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t1</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi1</span> ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>,<span class="id" title="var">H7</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">conflict_concat_left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H5</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> : <span class="id" title="var">L</span>, <span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>) /\ ~ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi2</span> ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>,<span class="id" title="var">H7</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">conflict_concat_right</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> : <span class="id" title="var">L</span>, <span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>) /\ ~ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi1</span> ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>,<span class="id" title="var">H7</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> : <span class="id" title="var">L</span>, <span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>) /\ ~ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi2</span> ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>,<span class="id" title="var">H7</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">can_always_prune_loopS</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i'</span>,<span class="id" title="var">Hprune</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">cannot_prune_contradicts_prune</span> (<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i</span>) <span class="id" title="var">i'</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi1</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <span class="id" title="var">IHi2</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">p</span>:=<span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H6</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> : <span class="id" title="var">L</span>, <span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>) /\ ~ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t1</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi1</span> ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H9</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>,<span class="id" title="var">H9</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H9</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">conflict_cond_seq_left</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span>). <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H6</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> : <span class="id" title="var">L</span>, <span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>) /\ ~ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi2</span> ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H9</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>,<span class="id" title="var">H9</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H9</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">conflict_cond_seq_right</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span> <span class="id" title="var">b</span> <span class="id" title="var">l</span>). <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">can_always_prune_loopC</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i'</span>,<span class="id" title="var">Hprune</span>).<br/>
&nbsp;&nbsp;<span class="id" title="var">exfalso</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">cannot_prune_contradicts_prune</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">b</span> <span class="id" title="var">i</span>) <span class="id" title="var">i'</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab20"></a><h3 class="section">Some more advanced lemmas on the prune relation</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">prune_all_equiv_accept_nil_1</span> (<span class="id" title="var">i</span> <span class="id" title="var">i'</span> : <span class="id" title="var">Interaction</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">all_lifelines</span> <span class="id" title="var">i'</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> <span class="id" title="var">nil</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">all_lifelines</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <span class="id" title="var">is_true</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">nil</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">nil</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">loopS_accepts_nil</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">nil</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">nil</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span>). <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_nil_left</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">loopC_accepts_nil</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">prune_all_equiv_accept_nil_2</span> (<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> <span class="id" title="var">nil</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="tactic">exists</span> (<span class="id" title="var">i'</span>:<span class="id" title="var">Interaction</span>), (<span class="id" title="var">prunes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">all_lifelines</span> <span class="id" title="var">i'</span>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
- <span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">interaction_empty</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">prune_empty</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H1</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">app_eq_nil</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHi1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">H1p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHi2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">H2p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">prune_strict</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">can_prune_or_cannot_prune</span> <span class="id" title="var">i1</span> <span class="id" title="var">all_lifelines</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">can_prune_or_cannot_prune</span> <span class="id" title="var">i2</span> <span class="id" title="var">all_lifelines</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp1</span> ; <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hp2</span> ; <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cannot_prune_contradicts_prune</span> <span class="id" title="var">i1</span> <span class="id" title="var">x</span> <span class="id" title="var">all_lifelines</span>). <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cannot_prune_contradicts_prune</span> <span class="id" title="var">i2</span> <span class="id" title="var">x</span> <span class="id" title="var">all_lifelines</span>). <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">H1</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">i2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_alt_right</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">H1</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">i2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_alt_right</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">H0</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">i1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_alt_left</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="var">exfalso</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">cannot_prune_contradicts_prune</span> <span class="id" title="var">i2</span> <span class="id" title="var">x</span> <span class="id" title="var">all_lifelines</span>). <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">Hp1</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">Hp2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_alt</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_alt_both</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">Hp1</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">Hp2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_alt</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">prune_alt_both</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">can_always_prune_loopS</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H1</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">is_cond_seq_nil_prop1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHi1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">H1p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHi2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">H2p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">b</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">prune_coreg</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">can_always_prune_loopC</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">prune_characterisation_with_sem_de_1</span> (<span class="id" title="var">i</span> <span class="id" title="var">i'</span>: <span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> :<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">i'</span>) /\ (<span class="id" title="var">sem_de</span> <span class="id" title="var">i'</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">Hd</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">Hd</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi1</span>,<span class="id" title="var">Hd</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hd</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi2</span>,<span class="id" title="var">Hconc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;}<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span>,<span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">H0</span>,<span class="id" title="var">HMerge</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">subs</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span> <span class="id" title="var">t0</span>) ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">nil</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">merge_strict_nil</span>. } <br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span> <span class="id" title="var">t1</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span> <span class="id" title="var">p</span> <span class="id" title="var">t2</span>) ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span>,<span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">H0</span>,<span class="id" title="var">HMerge</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">subs</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span> <span class="id" title="var">t0</span>) ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">nil</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">merge_coreg_nil</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">prune_characterisation_with_sem_de_2</span> (<span class="id" title="var">i</span> <span class="id" title="var">i'</span>: <span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> :<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">i'</span>) /\ (<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span>) /\ (<span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>), (<span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>)) -&gt; (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i'</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span> <span class="id" title="var">t1</span>) ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">no_conflict</span> (<span class="id" title="var">t1</span> ++ <span class="id" title="var">t2</span>) <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>. } <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_concat</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H11</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span> <span class="id" title="var">p</span> <span class="id" title="var">t2</span>) ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">no_conflict</span> (<span class="id" title="var">t1</span> ++ <span class="id" title="var">t2</span>) <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>. } <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_concat</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H11</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H11</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>), (<span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>)) /\ ~ (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">cannot_prune_characterisation_with_sem_de</span> <span class="id" title="var">i2</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H8</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>,<span class="id" title="var">H8</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H8</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>), (<span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>)) /\ ~ (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">cannot_prune_characterisation_with_sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span>) ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H8</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>,<span class="id" title="var">H8</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H8</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H8</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span>,<span class="id" title="var">Hmerge</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmerge</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hsubs</span>,<span class="id" title="var">Hmerge</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">subs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span> <span class="id" title="var">t0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsubs</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">no_conflict_merge_strict</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. } <br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">subs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">merge_strict_nil_prop2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmerge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmerge</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmerge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsubs</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> : <span class="id" title="var">Trace</span>, <span class="id" title="var">sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">t</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> : <span class="id" title="var">L</span>, <span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>) /\ ~ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">cannot_prune_characterisation_with_sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span>). <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <span class="id" title="var">H4</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">t</span>:=<span class="id" title="var">a</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">H4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>,<span class="id" title="var">H2</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">no_conflict</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">no_conflict_merge_strict</span> (<span class="id" title="var">a</span>::<span class="id" title="var">subs</span>) <span class="id" title="var">t</span> <span class="id" title="var">l</span>) .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H6</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmerge</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmerge</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <span class="id" title="var">H7</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">t0</span>:=<span class="id" title="var">a</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H3</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span> <span class="id" title="var">t1</span>) ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>. } <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t1</span> <span class="id" title="var">l</span> /\ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span> &lt;-&gt; <span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">no_conflict_condseq</span> <span class="id" title="var">b</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>). <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H14</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H14</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H13</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H13</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi2</span> <span class="id" title="var">i2'</span> <span class="id" title="var">p</span> <span class="id" title="var">t2</span>) ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>. } <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t1</span> <span class="id" title="var">l</span> /\ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t2</span> <span class="id" title="var">l</span> &lt;-&gt; <span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">no_conflict_condseq</span> <span class="id" title="var">b</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>). <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H14</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H14</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H13</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H13</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span>,<span class="id" title="var">Hmerge</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmerge</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hsubs</span>,<span class="id" title="var">Hmerge</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">subs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHi</span> <span class="id" title="var">i1'</span> <span class="id" title="var">p</span> <span class="id" title="var">t0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsubs</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">no_conflict_merge_coreg</span> <span class="id" title="var">b</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. } <br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">subs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">merge_coreg_nil_prop2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmerge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmerge</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmerge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assert</span> (<span class="id" title="var">sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <span class="id" title="tactic">apply</span> <span class="id" title="var">Hsubs</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> : <span class="id" title="var">Trace</span>, <span class="id" title="var">sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">t</span> -&gt; <span class="id" title="tactic">exists</span> <span class="id" title="var">l</span> : <span class="id" title="var">L</span>, <span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>) /\ ~ <span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">cannot_prune_characterisation_with_sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">p</span>). <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">t</span>:=<span class="id" title="var">a</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">H3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">l</span>,<span class="id" title="var">H2</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">no_conflict</span> <span class="id" title="var">a</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">no_conflict_merge_coreg</span> <span class="id" title="var">r</span> (<span class="id" title="var">a</span>::<span class="id" title="var">subs</span>) <span class="id" title="var">t</span> <span class="id" title="var">l</span>) .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H5</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmerge</span>. <span class="id" title="tactic">assert</span> (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hmerge</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> <span class="id" title="var">H7</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">t0</span>:=<span class="id" title="var">a</span>). <span class="id" title="tactic">apply</span> <span class="id" title="var">H7</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">prune_removes_conflicts</span> (<span class="id" title="var">i</span> <span class="id" title="var">i'</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">i'</span>) <br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i'</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; ( <span class="id" title="keyword">forall</span> <span class="id" title="var">l</span> : <span class="id" title="var">L</span>, <span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>) -&gt; <span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span> ).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H1</span> <span class="id" title="var">generalizing</span> <span class="id" title="var">t</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_nil</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_cons</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">coreg_discriminate</span> <span class="id" title="var">p</span>). <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_nil</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHprunes_into1</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHprunes_into2</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHprunes_into</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">IHprunes_into</span>. <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi2</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_concat</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHprunes_into1</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHprunes_into2</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi2</span>,<span class="id" title="var">H</span>). <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">no_conflict_condseq</span> <span class="id" title="var">r</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHprunes_into1</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHprunes_into2</span> ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span>,<span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">no_conflict_merge_strict</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t0</span> <span class="id" title="var">Ht0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHprunes_into</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_nil</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span>,<span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">no_conflict_merge_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t0</span> <span class="id" title="var">Ht0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHprunes_into</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">no_conflict_nil</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Below we characterize the pruning operator w.r.t. the denotational style semantics

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">prune_characterisation_with_sem_de</span> (<span class="id" title="var">i</span> <span class="id" title="var">i'</span>: <span class="id" title="var">Interaction</span>) (<span class="id" title="var">p</span> :<span class="id" title="var">L</span> -&gt; <span class="id" title="var">bool</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">p</span> <span class="id" title="var">i'</span>)<br/>
&nbsp;&nbsp;-&gt; (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sem_de</span> <span class="id" title="var">i'</span> <span class="id" title="var">t</span>) &lt;-&gt; (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id" title="keyword">forall</span> (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>), (<span class="id" title="var">is_true</span> (<span class="id" title="var">p</span> <span class="id" title="var">l</span>)) -&gt; (<span class="id" title="var">no_conflict</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">prune_characterisation_with_sem_de_1</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">prune_removes_conflicts</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">prune_characterisation_with_sem_de_2</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">p</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab21"></a><h3 class="section">Others</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">no_condconf_implies_coreg_prunable</span><br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span>: <span class="id" title="var">Interaction</span>) (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">no_condconf</span> <span class="id" title="var">r</span> <span class="id" title="var">t</span> <span class="id" title="var">l</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id" title="tactic">exists</span> (<span class="id" title="var">i'</span>:<span class="id" title="var">Interaction</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i</span> (<span class="id" title="var">remove_lf_matches</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span>) <span class="id" title="var">i'</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">filter_loopC_preserves_prev</span> (<span class="id" title="var">b</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i0'</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">l</span>:<span class="id" title="var">L</span>) (<span class="id" title="var">prev</span>:<span class="id" title="var">list</span> <span class="id" title="var">Trace</span>) (<span class="id" title="var">tprev</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;( <span class="id" title="keyword">forall</span> <span class="id" title="var">tin</span> : <span class="id" title="var">Trace</span>, <span class="id" title="var">In</span> <span class="id" title="var">tin</span> <span class="id" title="var">prev</span> -&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i1</span> <span class="id" title="var">tin</span>) /\ (<span class="id" title="var">no_condconf</span> <span class="id" title="var">b</span> <span class="id" title="var">tin</span> <span class="id" title="var">l</span>) )<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">merge_coreg</span> <span class="id" title="var">b</span> <span class="id" title="var">prev</span> <span class="id" title="var">tprev</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">b</span> <span class="id" title="var">i1</span>) (<span class="id" title="var">remove_lf_matches</span> <span class="id" title="var">l</span> <span class="id" title="var">b</span>) <span class="id" title="var">i0'</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i0'</span> <span class="id" title="var">tprev</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">Admitted</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab22"></a><h2 class="section">Execution relation</h2>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">executes_into</span> : <span class="id" title="var">Interaction</span> -&gt; <span class="id" title="var">Action</span> -&gt; <span class="id" title="var">Interaction</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
|<span class="id" title="var">execute_at_leaf</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>), <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">executes_into</span> (<span class="id" title="var">interaction_act</span> <span class="id" title="var">a</span>) <span class="id" title="var">a</span> <span class="id" title="var">interaction_empty</span>)<br/>
|<span class="id" title="var">execute_left_alt</span>     : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">i1'</span> : <span class="id" title="var">Interaction</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">executes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">a</span> <span class="id" title="var">i1'</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">executes_into</span> (<span class="id" title="var">interaction_alt</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">a</span> <span class="id" title="var">i1'</span>)<br/>
|<span class="id" title="var">execute_right_alt</span>    : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">i2'</span> : <span class="id" title="var">Interaction</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">executes_into</span> <span class="id" title="var">i2</span> <span class="id" title="var">a</span> <span class="id" title="var">i2'</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">executes_into</span> (<span class="id" title="var">interaction_alt</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">a</span> <span class="id" title="var">i2'</span>)<br/>
|<span class="id" title="var">execute_left_strict</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">i1'</span> : <span class="id" title="var">Interaction</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">executes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">a</span> <span class="id" title="var">i1'</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">executes_into</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
|<span class="id" title="var">execute_right_strict</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2</span> <span class="id" title="var">i2'</span> : <span class="id" title="var">Interaction</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">executes_into</span> <span class="id" title="var">i2</span> <span class="id" title="var">a</span> <span class="id" title="var">i2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">all_lifelines</span> <span class="id" title="var">i1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">executes_into</span> (<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>) <span class="id" title="var">a</span> <span class="id" title="var">i2'</span>)<br/>
|<span class="id" title="var">execute_left_coreg</span>     : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">i1'</span> : <span class="id" title="var">Interaction</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">executes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">a</span> <span class="id" title="var">i1'</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">executes_into</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
|<span class="id" title="var">execute_right_coreg</span>    : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i2</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span> : <span class="id" title="var">Interaction</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">executes_into</span> <span class="id" title="var">i2</span> <span class="id" title="var">a</span> <span class="id" title="var">i2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> <span class="id" title="var">i1</span> (<span class="id" title="var">remove_lf_matches</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">r</span>) <span class="id" title="var">i1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">executes_into</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">i1</span> <span class="id" title="var">i2</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
|<span class="id" title="var">execute_loopS</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i1'</span> : <span class="id" title="var">Interaction</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">executes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">a</span> <span class="id" title="var">i1'</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">executes_into</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i1'</span> (<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
|<span class="id" title="var">execute_loopC</span>    : <span class="id" title="keyword">forall</span> (<span class="id" title="var">r</span>:<span class="id" title="var">L</span>-&gt;<span class="id" title="var">bool</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">i1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i0'</span>: <span class="id" title="var">Interaction</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">executes_into</span> <span class="id" title="var">i1</span> <span class="id" title="var">a</span> <span class="id" title="var">i1'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">prunes_into</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">r</span> <span class="id" title="var">i1</span>) (<span class="id" title="var">remove_lf_matches</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">r</span>) <span class="id" title="var">i0'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">executes_into</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">r</span> <span class="id" title="var">i1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">a</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">i0'</span> (<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">r</span> <span class="id" title="var">i1'</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">r</span> <span class="id" title="var">i1</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
.<br/>

<br/>
</div>

<div class="doc">
<a id="lab23"></a><h3 class="section">Characterisation w.r.t. the denotational semantics</h3>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">execution_characterisation_with_sem_de_1</span> (<span class="id" title="var">i</span> <span class="id" title="var">i'</span>: <span class="id" title="var">Interaction</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">executes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span> <span class="id" title="var">i'</span>) <br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i'</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;-&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>) ).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H1</span> <span class="id" title="var">H2</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">H1</span> <span class="id" title="var">generalizing</span> <span class="id" title="var">t</span>.<br/>
- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHexecutes_into</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHexecutes_into</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi2</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t1</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHexecutes_into</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">reflexivity</span>. } <br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">nil</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">prune_all_equiv_accept_nil_1</span> <span class="id" title="var">i1</span> <span class="id" title="var">i1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHexecutes_into</span> <span class="id" title="var">t</span>). <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">reflexivity</span>. }<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi2</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t1</span>). <span class="id" title="tactic">exists</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHexecutes_into</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_cons_left</span>. <span class="id" title="tactic">assumption</span>. }<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi1</span>,<span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi2</span>,<span class="id" title="var">H2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">exists</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">prune_characterisation_with_sem_de_1</span> <span class="id" title="var">i1</span> <span class="id" title="var">i1'</span> (<span class="id" title="var">remove_lf_matches</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">r</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHexecutes_into</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_cons_right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_charac1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">coreg_choice</span> <span class="id" title="var">r</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> ((<span class="id" title="var">remove_lf_matches</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">r</span>) = <span class="id" title="var">one_lifeline</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_remove_match_charac1</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_no_lifelines_charac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">prune_removes_conflicts</span> <span class="id" title="var">i1</span> <span class="id" title="var">i1'</span> (<span class="id" title="var">one_lifeline</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)) <span class="id" title="var">t1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">unfold</span> <span class="id" title="var">one_lifeline</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Fin.eqb_eq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">H</span>,<span class="id" title="var">Hconc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hin</span>,<span class="id" title="var">Hrep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ((<span class="id" title="var">a</span>::<span class="id" title="var">t1</span>)::<span class="id" title="var">subs</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">t0</span> <span class="id" title="var">Ht0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Ht0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHexecutes_into</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hconc</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hconc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_strict_cons</span> <span class="id" title="var">subs</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t1</span>) <span class="id" title="var">t2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t0</span>,<span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tm</span>,<span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi0</span>,<span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">H3</span>,<span class="id" title="var">Hmer</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi1</span>,<span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">H3</span>,<span class="id" title="var">Hmer2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span>,<span class="id" title="var">H3</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hin</span>,<span class="id" title="var">Hrep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">sub0</span>,<span class="id" title="var">Hi0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">H0A</span>,<span class="id" title="var">H0B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">sub0</span> ++ (<span class="id" title="var">a</span>::<span class="id" title="var">t1</span>)::<span class="id" title="var">subs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">t3</span> <span class="id" title="var">Ht3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">in_app_or</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Ht3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Ht3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H0A</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">prune_characterisation_with_sem_de_1</span> <span class="id" title="var">i1</span> <span class="id" title="var">i1'0</span> (<span class="id" title="var">remove_lf_matches</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">r</span>) <span class="id" title="var">t3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHexecutes_into</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <span class="id" title="var">merge_coreg_reorder_prop1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_coreg_sandwich</span> <span class="id" title="var">r</span> <span class="id" title="var">sub0</span> <span class="id" title="var">subs</span> <span class="id" title="var">t0</span> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span> <span class="id" title="var">tm</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_charac1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">coreg_choice</span> <span class="id" title="var">r</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">no_condconf_no_lifelines_charac</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">prune_removes_conflicts</span> <span class="id" title="var">i1</span> <span class="id" title="var">i1'0</span> (<span class="id" title="var">remove_lf_matches</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">r</span>) <span class="id" title="var">t3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">H0A</span>. <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assert</span> ( (<span class="id" title="var">remove_lf_matches</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">r</span>) = (<span class="id" title="var">one_lifeline</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)) ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">no_condconf_remove_match_charac1</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">r</span>). <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">one_lifeline</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Fin.eqb_eq</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hi0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> ((<span class="id" title="var">a</span>::<span class="id" title="var">t1</span>)::<span class="id" title="var">subs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHexecutes_into</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_coreg_cons</span> <span class="id" title="var">r</span> <span class="id" title="var">subs</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t1</span>) <span class="id" title="var">t2</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">cond_seq_cons_left</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">is_cond_seq_nil_prop2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hmer</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hmer</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <span class="id" title="var">execution_characterisation_with_sem_de_2</span> <br/>
&nbsp;&nbsp;(<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="tactic">exists</span> (<span class="id" title="var">i'</span>:<span class="id" title="var">Interaction</span>), (<span class="id" title="var">executes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span> <span class="id" title="var">i'</span>) /\ (<span class="id" title="var">sem_de</span> <span class="id" title="var">i'</span> <span class="id" title="var">t</span>) ).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">i</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">interaction_empty</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">execute_at_leaf</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">t1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHi2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">prune_all_equiv_accept_nil_2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">Hi1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">execute_right_strict</span> <span class="id" title="var">a</span> <span class="id" title="var">i1</span> <span class="id" title="var">i1'</span>) ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHi1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">execute_left_strict</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">execute_left_alt</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">i2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">execute_right_alt</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hin</span>,<span class="id" title="var">Hrep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hr</span>:=<span class="id" title="var">Hrep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_strict_cons_existence</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span> <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrep</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrep</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t0</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">prev</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">succ</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">i'</span> : <span class="id" title="var">Interaction</span>, <span class="id" title="var">executes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span> <span class="id" title="var">i'</span> /\ <span class="id" title="var">sem_de</span> <span class="id" title="var">i'</span> <span class="id" title="var">t0</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">in_or_app</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i'</span>,<span class="id" title="var">Hi</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_strict</span> <span class="id" title="var">i'</span> (<span class="id" title="var">interaction_loopS</span> <span class="id" title="var">i</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">execute_loopS</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">merge_strict_existence</span> <span class="id" title="var">succ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tmsucc</span>,<span class="id" title="var">Hmsucc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">tmsucc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">exists</span> <span class="id" title="var">succ</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">in_or_app</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_strict_operational_characterization</span> <span class="id" title="var">t0</span> <span class="id" title="var">t</span> <span class="id" title="var">tmsucc</span> <span class="id" title="var">succ</span> <span class="id" title="var">a</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">is_cond_seq_cons_decomposition</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t1'</span>,<span class="id" title="var">H1</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHi1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi1x</span>,<span class="id" title="var">Hi1s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">b</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">apply</span> <span class="id" title="var">execute_left_coreg</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t1'</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t2'</span>,<span class="id" title="var">H1</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHi2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i2'</span>,<span class="id" title="var">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hi2x</span>,<span class="id" title="var">Hi2s</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">i1'</span> : <span class="id" title="var">Interaction</span>, <span class="id" title="var">prunes_into</span> <span class="id" title="var">i1</span> (<span class="id" title="var">remove_lf_matches</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>) <span class="id" title="var">i1'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">no_condconf_implies_coreg_prunable</span> <span class="id" title="var">i1</span> <span class="id" title="var">b</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">t1</span>) ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i1'</span>,<span class="id" title="var">Hi1p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">b</span> <span class="id" title="var">i1'</span> <span class="id" title="var">i2'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">execute_right_coreg</span> ; <span class="id" title="tactic">assumption</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t1</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">t2'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">coreg_choice</span> <span class="id" title="var">b</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> (<span class="id" title="var">no_condconf_remove_match_charac2</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">prune_characterisation_with_sem_de_2</span> <span class="id" title="var">i1</span> <span class="id" title="var">i1'</span> <span class="id" title="var">no_lifelines</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">no_lifelines</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">is_true</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span> (<span class="id" title="var">Hb</span>:=<span class="id" title="var">H0</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">no_condconf_remove_match_charac1</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">prune_characterisation_with_sem_de_2</span> <span class="id" title="var">i1</span> <span class="id" title="var">i1'</span> (<span class="id" title="var">one_lifeline</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <span class="id" title="var">one_lifeline</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Fin.eqb_eq</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">no_condconf_charac2</span> <span class="id" title="var">b</span> <span class="id" title="var">t1</span>). <span class="id" title="tactic">split</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">subs</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hin</span>,<span class="id" title="var">Hrep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hr</span>:=<span class="id" title="var">Hrep</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_coreg_cons_existence</span> <span class="id" title="var">b</span> <span class="id" title="var">subs</span> <span class="id" title="var">t</span> <span class="id" title="var">a</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrep</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrep</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">t0</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">prev</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">succ</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="tactic">exists</span> <span class="id" title="var">i'</span> : <span class="id" title="var">Interaction</span>, <span class="id" title="var">executes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span> <span class="id" title="var">i'</span> /\ <span class="id" title="var">sem_de</span> <span class="id" title="var">i'</span> <span class="id" title="var">t0</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHi</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">in_or_app</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i'</span>,<span class="id" title="var">Hi</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hi</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">can_always_prune_loopC</span> <span class="id" title="var">i</span> (<span class="id" title="var">remove_lf_matches</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">b</span>) <span class="id" title="var">b</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H4</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i0'</span>,<span class="id" title="var">H4</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">exists</span> (<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">b</span> <span class="id" title="var">i0'</span> (<span class="id" title="var">interaction_coreg</span> <span class="id" title="var">b</span> <span class="id" title="var">i'</span> (<span class="id" title="var">interaction_loopC</span> <span class="id" title="var">b</span> <span class="id" title="var">i</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">execute_loopC</span> ; <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">merge_coreg_existence</span> <span class="id" title="var">b</span> <span class="id" title="var">prev</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H5</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tprev</span>,<span class="id" title="var">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">tprev</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">merge_coreg_existence</span> <span class="id" title="var">b</span> <span class="id" title="var">succ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H6</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tsucc</span>,<span class="id" title="var">H6</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">is_cond_seq_existence</span> <span class="id" title="var">b</span> <span class="id" title="var">t0</span> <span class="id" title="var">tsucc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H7</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">tright</span>,<span class="id" title="var">H7</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exists</span> <span class="id" title="var">tright</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span> ; <span class="id" title="tactic">try</span> <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">filter_loopC_preserves_prev</span> <span class="id" title="var">b</span> <span class="id" title="var">i</span> <span class="id" title="var">i0'</span> (<span class="id" title="var">lifeline</span> <span class="id" title="var">a</span>) <span class="id" title="var">prev</span> <span class="id" title="var">tprev</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">in_app_iff</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">exists</span> <span class="id" title="var">t0</span>. <span class="id" title="tactic">exists</span> <span class="id" title="var">tsucc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">exists</span> <span class="id" title="var">succ</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">Hin</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">in_app_iff</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">in_cons</span> . <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> (<span class="id" title="var">merge_coreg_recompose</span> <span class="id" title="var">b</span> <span class="id" title="var">prev</span> <span class="id" title="var">succ</span> <span class="id" title="var">t</span> <span class="id" title="var">t0</span> <span class="id" title="var">tprev</span> <span class="id" title="var">tsucc</span> <span class="id" title="var">tright</span>) ; <span class="id" title="tactic">assumption</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab24"></a><h2 class="section">The operational style semantics</h2>


</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <span class="id" title="var">sem_op</span> : <span class="id" title="var">Interaction</span> -&gt; <span class="id" title="var">Trace</span> -&gt; <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;| <span class="id" title="var">sem_op_empty</span>  : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i</span> <span class="id" title="var">i'</span>:<span class="id" title="var">Interaction</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">prunes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">all_lifelines</span> <span class="id" title="var">i'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">sem_op</span> <span class="id" title="var">i</span> <span class="id" title="var">nil</span>)<br/>
&nbsp;| <span class="id" title="var">sem_op_event</span> : <span class="id" title="keyword">forall</span> (<span class="id" title="var">i</span> <span class="id" title="var">i'</span>:<span class="id" title="var">Interaction</span>) (<span class="id" title="var">a</span>:<span class="id" title="var">Action</span>) (<span class="id" title="var">t</span>:<span class="id" title="var">Trace</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">executes_into</span> <span class="id" title="var">i</span> <span class="id" title="var">a</span> <span class="id" title="var">i'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">sem_op</span> <span class="id" title="var">i'</span> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; (<span class="id" title="var">sem_op</span> <span class="id" title="var">i</span> (<span class="id" title="var">a</span>::<span class="id" title="var">t</span>) ).<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">op_implies_de</span> (<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) (<span class="id" title="var">t</span> : <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">sem_op</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span>) -&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="var">generalizing</span> <span class="id" title="var">i</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">prune_all_equiv_accept_nil_1</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">inversion</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">execution_characterisation_with_sem_de_1</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span> <span class="id" title="var">a</span> <span class="id" title="var">t</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHt</span> <span class="id" title="var">i'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">de_implies_op</span> (<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) (<span class="id" title="var">t</span> : <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span>) -&gt; (<span class="id" title="var">sem_op</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="tactic">dependent</span> <span class="id" title="tactic">induction</span> <span class="id" title="var">t</span> <span class="id" title="var">generalizing</span> <span class="id" title="var">i</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">prune_all_equiv_accept_nil_2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i'</span>,<span class="id" title="var">H</span>). <span class="id" title="tactic">apply</span> (<span class="id" title="var">sem_op_empty</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">execution_characterisation_with_sem_de_2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">i'</span>,<span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">sem_op_event</span> <span class="id" title="var">i</span> <span class="id" title="var">i'</span>).<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <span class="id" title="var">IHt</span>. <span class="id" title="tactic">assumption</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Finally we porove the equivalence of both semantics,
as stated by the "sem_equivalence_de_op" Theorem.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <span class="id" title="var">sem_equivalence_de_op</span> (<span class="id" title="var">i</span> : <span class="id" title="var">Interaction</span>) (<span class="id" title="var">t</span> : <span class="id" title="var">Trace</span>) :<br/>
&nbsp;&nbsp;(<span class="id" title="var">sem_op</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span>) &lt;-&gt; (<span class="id" title="var">sem_de</span> <span class="id" title="var">i</span> <span class="id" title="var">t</span>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">split</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">op_implies_de</span>.<br/>
- <span class="id" title="tactic">apply</span> <span class="id" title="var">de_implies_op</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>